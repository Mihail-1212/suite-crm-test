## Обучающее задание по SugarCRM (SuiteCRM)

1. В SuiteCRM, есть стандартный модуль Контрагент (Accounts), необходимо добавить два новых поля:

Первое поле:

	Надпись: Источник;
	Системное имя: source;
	Тип: выпадающий список;
	Пункты списка: Пусто(пустой пункт), Сайт(site), Разговор(talk), Другое(another)  
	Значение по-умолчанию: Пусто
	Обязательность: Да
	Журналируемость: Да

Второе поле:

    Надпись: Другое
    Системное имя: source_another
    Тип: Многострочное текстовое поле
    Журналируемость: Да

Поля должны быть доступны на странице просмотра, редактирования и списка. Также на странице списка, в формы поиска (базовую, расширенную) должны быть добавлены эти поля, чтобы можно было производить поиск по записям.

При добавлении полей Студией не пользоваться (добавление полей надо делать через код)!

2. На странице редактирования/просмотра контрагента, сделать следующую Jquery логику, при выборе в поле «Источник» значения «Другое» отображать строку с полем «Другое», в случае других вариантов в поле «Источник» строку с полем «Другое» скрывать.

3. При сохранении Контрагента со статусом Источник=Сайт должна создаваться запись модуля Задача (модуль Tasks). Поле «Относится к» должно быть заполнено сохраняемым Контрагентом, поле «Название» должно быть заполнено значение «Я мега крут».
Реализовывать через хук, которые вызывается при сохранении Контрагента.

4. Распарсить xml-файл и сохранить данные в модуль Контакты SuiteCRM

Что требуется сделать
Распарсить предложенную xml-структуру (см. файл Vedisoft_OOP_example_xml.xml) в объекты CRM. Маппинг полей указан ниже в разделе «Маппинг полей (xml → crm)».

Необходимо написать скрипт (import.php), который можно запустить из командной строки/терминала.

Небольшое подспорье. Внутри папки проекта создать папку bin и скопировать туда файл cli.php (приложен к письму). Внутри папки bin создать файлик import.php. Внутри него нужно подключить файл cli.php Теперь все классы системы вам доступны. Остальное на ваш вкус :)

В зависимости от типа файла, переданного скрипту, должен либо запустится процесс парсинга файла, либо вывестись сообщение “Данный формат не поддерживается”.

Маппинг полей (xml → crm):

    FirstName – first_name
    LastName – last_name
    Title – title
    Email – email1
    department – department
    Do_not_call – do_not_call

### Запуск скрипта на импорт:
```bash
php -f ./bin/import.php /var/www/u3111500/data/www/mokruschin.ru/Vedisoft_OOP_example_xml.xml
```